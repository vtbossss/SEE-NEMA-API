<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to the SEE-NEMA API</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css">
    <style>
        body {
            background-color: #f8f9fa;
            font-family: Arial, sans-serif;
        }
        
        .container {
            margin-top: 50px;
            margin-bottom: 50px;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            color: #333;
        }
        
        h2, h3 {
            color: #007BFF;
        }

        pre {
            background-color: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
            text-align: left;
            overflow: auto;
        }

        code {
            font-size: 90%;
        }

        footer {
            margin-top: 20px;
            text-align: center;
            color: #666;
        }
    </style>
</head>

<body>
    <div class="container text-center">
        <h1>Welcome to the SEE-NEMA API</h1>
        <p class="lead">Your personal movie watchlist manager API.</p>

        <h2>API Documentation</h2>
        <p>The API documentation is generated using <strong>DRF Spectacular</strong> and can be used to try the API endpoints interactively. Please visit the following link:</p>
        <h3><a href="/api/schema/docs/" class="btn btn-primary">API Documentation</a></h3>
        <p>Explore the available endpoints and learn how to interact with the API.</p>
        <p>Refer below to check for example requests and responses.</p>

        <h2>Authentication</h2>
        <p>The SEE-NEMA API uses JWT (JSON Web Token) authentication. Before using the API, you need to register an account.</p>

        <h3>Register an Account</h3>
        <p>To register, make a POST request to the <strong>/api/register/</strong> endpoint with your desired username, password, and password confirmation:</p>
        <pre><code>POST /api/register/
Content-Type: application/json

{
  "username": "your_username",
  "password": "your_password",
  "password_confirm": "your_password",  // Required for confirmation
  "email": "your_email@example.com"  // Optional
}</code></pre>

        <h4>Example Response</h4>
        <pre><code>HTTP/1.1 201 Created
{
  "message": "User created successfully",
  "token": "your_jwt_token"  // Returned only if token generation is included
}</code></pre>

        <h3>How to Authenticate</h3>
        <p>After registering, obtain a JWT token by making a POST request to the <strong>/api/token/</strong> endpoint with your username and password:</p>
        <pre><code>POST /api/token/
Content-Type: application/json

{
  "username": "your_username",
  "password": "your_password"
}</code></pre>

        <h4>Example Response</h4>
        <pre><code>HTTP/1.1 200 OK
{
  "token": "your_jwt_token"
}</code></pre>

        <p>Include the token in the Authorization header for all authenticated requests:</p>
        <pre><code>Authorization: Bearer &lt;your_token&gt;</code></pre>

        <h3>Example Request to Add a Movie</h3>
        <p>Here's how you can add a movie to your watchlist:</p>
        <pre><code>POST /api/watchlist/add/ 
Content-Type: application/json
Authorization: Bearer &lt;your_token&gt;

{
  "title": "Inception"
}</code></pre>

        <h4>Example Response</h4>
        <pre><code>HTTP/1.1 201 Created
{
  "message": "Movie added to watchlist"
}</code></pre>

        <h4>Duplicate Movie Response</h4>
        <pre><code>HTTP/1.1 200 OK
{
  "message": "Movie is already in your watchlist"
}</code></pre>

        <h3>Get Your Watchlist</h3>
        <p>To retrieve your watchlist, make a GET request to the <strong>/api/watchlist/</strong> endpoint:</p>
        <pre><code>GET /api/watchlist/
Authorization: Bearer &lt;your_token&gt;</code></pre>

        <h4>Example Response</h4>
        <pre><code>HTTP/1.1 200 OK
[
  {
    "id": 1,
    "title": "Inception",
    "description": "A thief who steals corporate secrets through the use of dream-sharing technology.",
    "release_date": "2010-07-16",
    "added_on": "2024-10-12T00:00:00Z"
  },
  {
    "id": 2,
    "title": "The Matrix",
    "description": "A computer hacker learns from mysterious rebels about the true nature of his reality.",
    "release_date": "1999-03-31",
    "added_on": "2024-10-12T00:00:00Z"
  }
]</code></pre>

        <h3>Update a Movie in Your Watchlist</h3>
        <p>To update a movie's details, make a PUT request to the <strong>/api/watchlist/{id}/update/</strong> endpoint:</p>
        <pre><code>PUT /api/watchlist/1/update/
Content-Type: application/json
Authorization: Bearer &lt;your_token&gt;

{
  "title": "Inception (Updated)",
  "description": "An updated description for the movie."
}</code></pre>

        <h4>Example Response</h4>
        <pre><code>HTTP/1.1 200 OK
{
  "id": 1,
  "title": "Inception (Updated)",
  "description": "An updated description for the movie.",
  "release_date": "2010-07-16",
  "added_on": "2024-10-12T00:00:00Z"
}</code></pre>

        <h3>Delete a Movie from Your Watchlist</h3>
        <p>To delete a movie, make a DELETE request to the <strong>/api/watchlist/{id}/delete/</strong> endpoint:</p>
        <pre><code>DELETE /api/watchlist/1/delete/
Authorization: Bearer &lt;your_token&gt;</code></pre>

        <h4>Example Response</h4>
        <pre><code>HTTP/1.1 204 No Content
// No response body
</code></pre>
    </div>

    <footer>
        <p>&copy; 2024 SEE-NEMA Project | Owner: <strong>vtbossss</strong></p>
    </footer>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.bundle.min.js"></script>
</body>

</html>
